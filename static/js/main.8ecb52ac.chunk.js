(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{24:function(t,e,n){t.exports={form:"ContactForm_form__1bQLe",button:"ContactForm_button__3-POw"}},25:function(t,e,n){t.exports={btn:"ContactListItem_btn__1lV-B",item:"ContactListItem_item__3-9Dy"}},39:function(t,e,n){t.exports={list:"ContactList_list__2s8Xv"}},74:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(14),o=n.n(r),u=n(41),s=n(8),i=n(15),b=n(16),l=n(19),j=n(17),d=n(38),f=n(9),h=n(13),m=n.n(h),O=n(4),p=Object(O.b)("contacts/fetchContactsRequest"),C=Object(O.b)("contacts/fetchContactsSuccess"),v=Object(O.b)("contacts/fetchContactsError"),x=Object(O.b)("contacts/addContactRequest"),g=Object(O.b)("contacts/addContactSuccess"),y=Object(O.b)("contacts/addContactError"),_=Object(O.b)("contacts/deleteContactRequest"),w=Object(O.b)("contacts/deleteContactSuccess"),k=Object(O.b)("contacts/deleteContactError"),S=Object(O.b)("contacts/changeFilter");m.a.defaults.baseURL="http://localhost:3000";var L,N=function(){return function(t){t(p()),m.a.get("/contacts").then((function(e){var n=e.data;return t(C(n))})).catch((function(e){return t(v(e))}))}},D=function(t){var e=t.name,n=t.number;return function(t){var c={name:e,number:n};t(x()),m.a.post("/contacts",c).then((function(e){var n=e.data;return t(g(n))})).catch((function(e){return t(y(e))}))}},A=function(t){return function(e){e(_()),m.a.delete("/contacts/".concat(t)).then((function(){return e(w(t))})).catch((function(t){return e(k(t))}))}},I=n(24),F=n.n(I),E=n(1),P=function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.handleInputChange=function(e){var n=e.currentTarget,c=n.name,a=n.value;t.setState(Object(f.a)({},c,a))},t.handleAddContact=function(e){e.preventDefault(),""!==t.state.name&&""!==t.state.number?(t.props.onSubmit(Object(d.a)({},t.state)),t.reset()):alert("Please enter data")},t.reset=function(){t.setState({name:"",number:""})},t}return Object(b.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(E.jsxs)("form",{onSubmit:this.handleAddContact,className:F.a.form,children:[Object(E.jsxs)("label",{children:[Object(E.jsx)("p",{children:"Name"}),Object(E.jsx)("input",{name:"name",value:e,type:"text",placeholder:"Name",onChange:this.handleInputChange,pattern:"[a-zA-Z \\u0400-\\u04ff]{3,30}"})]}),Object(E.jsxs)("label",{children:[Object(E.jsx)("p",{children:"Number"}),Object(E.jsx)("input",{name:"number",value:n,type:"tel",placeholder:"Number",onChange:this.handleInputChange,pattern:"\\d{3}[\\s.-]?\\d{2}[\\s.-]?\\d{2}$",title:"Please, use the following format: 111-11-11"})]}),Object(E.jsx)("button",{type:"submit",className:F.a.button,children:"Add contact"})]})}}]),n}(c.Component),R=Object(s.b)(null,(function(t){return{onSubmit:function(e,n){return t(D(e,n))}}}))(P),q=Object(s.b)((function(t){return{value:t.filter}}),(function(t){return{onChange:function(e){return t(S(e.target.value))}}}))((function(t){var e=t.value,n=t.onChange;return Object(E.jsxs)("label",{children:["Find contacts by name",Object(E.jsx)("br",{}),Object(E.jsx)("input",{type:"text",value:e,onChange:n,placeholder:"Search contacts"})]})})),z=n(39),B=n.n(z),J=n(25),M=n.n(J),T=function(t){var e=t.id,n=t.name,c=t.number,a=t.handleDeleteContact;return Object(E.jsxs)("li",{className:M.a.item,children:[Object(E.jsxs)("span",{children:[n,": ",c]}),Object(E.jsx)("button",{className:M.a.btn,onClick:function(){return a(e)},children:"Delete"})]},e)},Q=function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))},U=Object(s.b)((function(t){var e=t.contacts,n=e.items,c=e.filter;return{filteredContacts:Q(n,c)}}),(function(t){return{handleDeleteContact:function(e){return t(A(e))}}}))((function(t){var e=t.filteredContacts,n=t.handleDeleteContact;return Object(E.jsx)("ul",{className:B.a.list,children:e.map((function(t){return Object(E.jsx)(T,{id:t.id,name:t.name,number:t.number,handleDeleteContact:n},t.id)}))})})),V=function(t){Object(l.a)(n,t);var e=Object(j.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h1",{children:"Phonebook"}),Object(E.jsx)(R,{}),Object(E.jsx)("h2",{children:"Contacts"}),Object(E.jsx)(q,{}),Object(E.jsx)(U,{})]})}}]),n}(c.Component),X=Object(s.b)(null,(function(t){return{fetchContacts:function(){return t(N())}}}))(V),Z=n(18),$=n(40),G=n.n($),H=n(10),K=n(3),W=Object(O.c)([],(L={},Object(f.a)(L,C,(function(t,e){return e.payload})),Object(f.a)(L,g,(function(t,e){var n=e.payload;return t.find((function(t){return t.name.toLowerCase()===n.name.toLowerCase()}))?(alert("Contact ".concat(n.name," is already exist")),t):[].concat(Object(Z.a)(t),[n])})),Object(f.a)(L,w,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),L)),Y=Object(O.c)("",Object(f.a)({},S,(function(t,e){return e.payload}))),tt=Object(K.c)({items:W,filter:Y}),et=[].concat(Object(Z.a)(Object(O.d)({serializableCheck:{ignoredActions:[H.a,H.f,H.b,H.c,H.d,H.e]}})),[G.a]),nt=Object(O.a)({reducer:{contacts:tt},middleware:et,devTools:!1});o.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(s.a,{store:nt,children:Object(E.jsx)(u.a,{children:Object(E.jsx)(X,{})})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.8ecb52ac.chunk.js.map